{"version":3,"sources":["store/actions.ts","components/QuoteContainer.tsx","icons/UnsureEmoji.tsx","components/Loading.tsx","icons/SadEmoji.tsx","components/Error.tsx","api/quotes.ts","store/reducer.ts","store/index.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["Actions","QuoteContainer","quote","typed","isTyping","className","slice","length","split","map","l","i","UnsureEmoji","xmlSpace","viewBox","y","x","xmlns","id","version","width","height","xmlnsXlink","style","animationPlayState","transformOrigin","transform","y2","x2","y1","x1","gradientUnits","stopColor","offset","fill","r","cy","cx","d","strokeMiterlimit","strokeLinecap","strokeWidth","stroke","Loading","AwkwardEmoji","Error","SadEmoji","getNewQuote","a","fetch","req","ok","json","data","quoteText","Status","initialState","status","loading","errors","time","refresh","dispatch","type","start","success","payload","fail","reducer","state","action","error","ready","finish","finished","commit","tick","useAppState","useReducer","App","stats","useState","timeUpdater","setTimeUpdater","buttonRef","useRef","textareaRef","setIsTyping","speed","Math","round","accuracy","icon","SpeedIcon","value","isFinite","mark","AccuracyIcon","TimeIcon","ErrorsIcon","useEffect","setInterval","clearInterval","buttonEl","current","refreshHanlder","e","keyCode","click","document","addEventListener","removeEventListener","textareaEl","focus","timeout","setTimeout","clearTimeout","index","Icon","size","disabled","Boolean","onClick","ref","onChange","target","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.d8b7b5f4.chunk.js","sourcesContent":["enum Actions {\r\n  start,\r\n  success,\r\n  fail,\r\n  finish,\r\n  type,\r\n  commit,\r\n  tick,\r\n}\r\n\r\nexport default Actions;\r\n","import React from 'react';\r\n\r\ninterface QuoteContainerProps {\r\n  quote: string;\r\n  typed: string;\r\n  isTyping: boolean;\r\n}\r\n\r\nconst QuoteContainer: React.FC<QuoteContainerProps> = ({\r\n  quote,\r\n  typed,\r\n  isTyping,\r\n}) => {\r\n  return (\r\n    <p className=\"text-gray-400 p-2 select-none\">\r\n      <span className=\"text-gray-700 select-text\">\r\n        {quote\r\n          .slice(0, typed.length)\r\n          .split('')\r\n          .map((l, i) =>\r\n            l === typed[i] ? (\r\n              l\r\n            ) : (\r\n              <span key={i} className=\"text-red-500 border-b-2 border-red-500\">\r\n                {l}\r\n              </span>\r\n            ),\r\n          )}\r\n      </span>\r\n      <span\r\n        className={`text-blue-500 border-b-2 border-blue-500 ${\r\n          isTyping ? 'animate-none' : 'animate-pulse'\r\n        }`}\r\n      >\r\n        {quote[typed.length]}\r\n      </span>\r\n      {quote.slice(typed.length + 1)}\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default QuoteContainer;\r\n","import React from 'react';\r\n\r\nconst UnsureEmoji = () => {\r\n  return (\r\n    <svg\r\n      xmlSpace=\"preserve\"\r\n      viewBox=\"0 0 100 100\"\r\n      y={0}\r\n      x={0}\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      id=\"Layer_1\"\r\n      version=\"1.1\"\r\n      width=\"125px\"\r\n      height=\"125px\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      style={{ width: '100%', height: '100%', animationPlayState: 'paused' }}\r\n    >\r\n      <g\r\n        className=\"ldl-scale\"\r\n        style={{\r\n          transformOrigin: '50% 50% 0px',\r\n          transform: 'rotate(0deg) scale(1)',\r\n          animationPlayState: 'paused',\r\n        }}\r\n      >\r\n        <linearGradient\r\n          y2={77}\r\n          x2={50}\r\n          y1={20}\r\n          x1={50}\r\n          gradientUnits=\"userSpaceOnUse\"\r\n          id=\"SVGID_1_\"\r\n          style={{ animationPlayState: 'paused' }}\r\n        >\r\n          <stop\r\n            stopColor=\"#f4e6c8\"\r\n            offset={0}\r\n            style={{\r\n              stopColor: 'rgb(244, 230, 200)',\r\n              animationPlayState: 'paused',\r\n            }}\r\n          />\r\n          <stop\r\n            stopColor=\"#f5e169\"\r\n            offset={1}\r\n            style={{\r\n              stopColor: 'rgb(245, 225, 105)',\r\n              animationPlayState: 'paused',\r\n            }}\r\n          />\r\n        </linearGradient>\r\n        <circle\r\n          fill=\"url(#SVGID_1_)\"\r\n          r={40}\r\n          cy={50}\r\n          cx={50}\r\n          style={{ animationPlayState: 'paused' }}\r\n        />\r\n        <circle\r\n          fill=\"#4a3826\"\r\n          r=\"7.5\"\r\n          cy=\"38.409\"\r\n          cx=\"33.5\"\r\n          style={{ fill: 'rgb(74, 56, 38)', animationPlayState: 'paused' }}\r\n        />\r\n        <circle\r\n          fill=\"#4a3826\"\r\n          r=\"7.5\"\r\n          cy=\"38.409\"\r\n          cx=\"66.5\"\r\n          style={{ fill: 'rgb(74, 56, 38)', animationPlayState: 'paused' }}\r\n        />\r\n        <path\r\n          d=\"M33 65.091h34\"\r\n          strokeMiterlimit={10}\r\n          strokeLinecap=\"round\"\r\n          strokeWidth={5}\r\n          stroke=\"#4a3826\"\r\n          fill=\"none\"\r\n          style={{ stroke: 'rgb(74, 56, 38)', animationPlayState: 'paused' }}\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default UnsureEmoji;\r\n","import React from 'react';\r\nimport UnsureEmoji from '../icons/UnsureEmoji';\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className=\"flex flex-col items-center w-max m-auto \">\r\n      <UnsureEmoji />\r\n      <h2 className=\"mb-2\">Loading...</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\n\r\nconst AwkwardEmoji = () => {\r\n  return (\r\n    <svg\r\n      xmlSpace=\"preserve\"\r\n      viewBox=\"0 0 100 100\"\r\n      y={0}\r\n      x={0}\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      id=\"Layer_1\"\r\n      version=\"1.1\"\r\n      width=\"125px\"\r\n      height=\"125px\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      style={{ width: '100%', height: '100%', animationPlayState: 'paused' }}\r\n    >\r\n      <g\r\n        className=\"ldl-scale\"\r\n        style={{\r\n          transformOrigin: '50% 50% 0px',\r\n          transform: 'rotate(0deg) scale(1)',\r\n          animationPlayState: 'paused',\r\n        }}\r\n      >\r\n        <linearGradient\r\n          y2={77}\r\n          x2={50}\r\n          y1={20}\r\n          x1={50}\r\n          gradientUnits=\"userSpaceOnUse\"\r\n          id=\"SVGID_1_\"\r\n          style={{ animationPlayState: 'paused' }}\r\n        >\r\n          <stop\r\n            stopColor=\"#f4e6c8\"\r\n            offset={0}\r\n            style={{\r\n              stopColor: 'rgb(244, 230, 200)',\r\n              animationPlayState: 'paused',\r\n            }}\r\n          />\r\n          <stop\r\n            stopColor=\"#f5e169\"\r\n            offset={1}\r\n            style={{\r\n              stopColor: 'rgb(245, 225, 105)',\r\n              animationPlayState: 'paused',\r\n            }}\r\n          />\r\n        </linearGradient>\r\n        <circle\r\n          fill=\"url(#SVGID_1_)\"\r\n          r={40}\r\n          cy={50}\r\n          cx={50}\r\n          style={{ animationPlayState: 'paused' }}\r\n        />\r\n        <circle\r\n          fill=\"#4a3826\"\r\n          r=\"7.5\"\r\n          cy=\"38.409\"\r\n          cx=\"33.5\"\r\n          style={{ fill: 'rgb(74, 56, 38)', animationPlayState: 'paused' }}\r\n        />\r\n        <circle\r\n          fill=\"#4a3826\"\r\n          r=\"7.5\"\r\n          cy=\"38.409\"\r\n          cx=\"66.5\"\r\n          style={{ fill: 'rgb(74, 56, 38)', animationPlayState: 'paused' }}\r\n        />\r\n        <path\r\n          d=\"M33 65.091h34\"\r\n          strokeMiterlimit={10}\r\n          strokeLinecap=\"round\"\r\n          strokeWidth={5}\r\n          stroke=\"#4a3826\"\r\n          fill=\"none\"\r\n          style={{ stroke: 'rgb(74, 56, 38)', animationPlayState: 'paused' }}\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default AwkwardEmoji;\r\n","import React from 'react';\r\nimport SadEmoji from '../icons/SadEmoji';\r\n\r\nconst Error = () => {\r\n  return (\r\n    <div className=\"flex flex-col items-center w-max m-auto \">\r\n      <SadEmoji />\r\n      <h2 className=\"mb-2\">Loading...</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","export const getNewQuote = async () => {\r\n  const req = await fetch(\r\n    'https://quote-garden.herokuapp.com/api/v3/quotes/random',\r\n  );\r\n\r\n  if (!req.ok) throw new Error();\r\n\r\n  const data = await req.json();\r\n\r\n  return data.data[0].quoteText;\r\n};\r\n","import { getNewQuote } from '../api/quotes';\r\nimport Actions from './actions';\r\n\r\nexport enum Status {\r\n  loading,\r\n  error,\r\n  ready,\r\n  finished,\r\n}\r\n\r\ninterface EmptyStateType {\r\n  status: Status.loading | Status.error;\r\n  quote: null;\r\n  typed: null;\r\n  errors: 0;\r\n  time: 0;\r\n}\r\n\r\ninterface FilledStateType {\r\n  status: Status.ready | Status.finished;\r\n  quote: string;\r\n  typed: string;\r\n  errors: number;\r\n  time: number;\r\n}\r\ntype StateType = EmptyStateType | FilledStateType;\r\n\r\ntype ActionType =\r\n  | { type: Actions.start }\r\n  | { type: Actions.fail }\r\n  | { type: Actions.success; payload: string }\r\n  | { type: Actions.finish }\r\n  | { type: Actions.type; payload: string }\r\n  | { type: Actions.tick }\r\n  | { type: Actions.commit };\r\n\r\nexport const initialState: StateType = {\r\n  status: Status.loading,\r\n  quote: null,\r\n  typed: null,\r\n  errors: 0,\r\n  time: 0,\r\n};\r\n\r\nconst reducer = (state: StateType, action: ActionType): StateType => {\r\n  if (action.type === Actions.start)\r\n    return {\r\n      status: Status.loading,\r\n      quote: null,\r\n      typed: null,\r\n      errors: 0,\r\n      time: 0,\r\n    };\r\n\r\n  if (action.type === Actions.fail)\r\n    return {\r\n      status: Status.error,\r\n      quote: null,\r\n      typed: null,\r\n      errors: 0,\r\n      time: 0,\r\n    };\r\n\r\n  if (action.type === Actions.success)\r\n    return {\r\n      status: Status.ready,\r\n      quote: action.payload,\r\n      typed: '',\r\n      errors: 0,\r\n      time: 0,\r\n    };\r\n\r\n  if (action.type === Actions.finish)\r\n    return {\r\n      status: Status.finished,\r\n      quote: state.quote as string,\r\n      typed: state.typed as string,\r\n      errors: state.errors,\r\n      time: state.time,\r\n    };\r\n\r\n  if (action.type === Actions.type)\r\n    return {\r\n      status: Status.ready,\r\n      quote: state.quote as string,\r\n      typed: action.payload,\r\n      errors: state.errors,\r\n      time: state.time,\r\n    };\r\n\r\n  if (action.type === Actions.commit)\r\n    return {\r\n      status: Status.ready,\r\n      quote: state.quote as string,\r\n      typed: state.typed as string,\r\n      errors: state.errors + 1,\r\n      time: state.time,\r\n    };\r\n\r\n  if (action.type === Actions.tick)\r\n    return {\r\n      status: Status.ready,\r\n      quote: state.quote as string,\r\n      typed: state.typed as string,\r\n      errors: state.errors,\r\n      time: state.time + 0.1,\r\n    };\r\n\r\n  return state;\r\n};\r\n\r\nexport const refresh = async (dispatch: React.Dispatch<ActionType>) => {\r\n  dispatch({ type: Actions.start });\r\n\r\n  try {\r\n    const quote = await getNewQuote();\r\n\r\n    dispatch({ type: Actions.success, payload: quote });\r\n  } catch (err) {\r\n    dispatch({ type: Actions.fail });\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { useReducer } from 'react';\r\nimport reducer, { initialState } from './reducer';\r\n\r\nconst useAppState = () => {\r\n  return useReducer(reducer, initialState);\r\n};\r\n\r\nexport default useAppState;\r\n","import React, { useEffect, useRef, useState } from 'react';\nimport QuoteContainer from './components/QuoteContainer';\nimport {\n  IoAlarmOutline as TimeIcon,\n  IoSpeedometerOutline as SpeedIcon,\n  IoLocateOutline as AccuracyIcon,\n  IoCloseCircleOutline as ErrorsIcon,\n  IoRefreshOutline as RefreshIcon,\n} from 'react-icons/io5';\nimport LoadingCard from './components/Loading';\nimport ErrorCard from './components/Error';\nimport { IconType } from 'react-icons';\nimport useAppState from './store';\nimport { refresh, Status } from './store/reducer';\nimport Actions from './store/actions';\n\ninterface Stats {\n  icon: IconType;\n  value: number;\n  mark: string;\n}\n\nfunction App() {\n  const [state, dispatch] = useAppState();\n  const [timeUpdater, setTimeUpdater] = useState<NodeJS.Timer | null>(null);\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const [isTyping, setIsTyping] = useState(false);\n\n  // calculate stats\n  let stats: Stats[];\n\n  if (state.status === Status.ready || state.status === Status.finished) {\n    const speed = Math.round(state.typed.length / 5 / (state.time / 60));\n    const accuracy =\n      Math.round(\n        100 - (state.errors / (state.typed.length - state.errors || 1)) * 100,\n      ) || 0;\n\n    stats = [\n      {\n        icon: SpeedIcon,\n        value: (isFinite(speed) && speed) || 0,\n        mark: 'WPM',\n      },\n      {\n        icon: AccuracyIcon,\n        value: accuracy,\n        mark: '%',\n      },\n      { icon: TimeIcon, value: Math.round(state.time), mark: 'Sec' },\n      { icon: ErrorsIcon, value: state.errors, mark: 'Char' },\n    ];\n  }\n\n  // start\n  useEffect(() => {\n    refresh(dispatch);\n  }, []);\n\n  // start timer\n  useEffect(() => {\n    if (state.typed && !timeUpdater) {\n      setTimeUpdater(setInterval(() => dispatch({ type: Actions.tick }), 100));\n    }\n  }, [state.typed]);\n\n  // stop timer\n  useEffect(() => {\n    if (state.status === Status.finished && timeUpdater) {\n      clearInterval(timeUpdater);\n      setTimeUpdater(null);\n    }\n  }, [state.status]);\n\n  // add an event lisetner on the return button to refresh\n  useEffect(() => {\n    const buttonEl = buttonRef.current!;\n\n    const refreshHanlder = (e: KeyboardEvent) => {\n      if (e.keyCode === 13) buttonEl.click();\n    };\n\n    document.addEventListener('keydown', refreshHanlder);\n\n    return () => {\n      document.removeEventListener('keydown', refreshHanlder);\n    };\n  }, []);\n\n  // textarea auto focus\n  useEffect(() => {\n    const textareaEl = textareaRef.current!;\n\n    if (state.quote) textareaEl.focus();\n  }, [state.quote]);\n\n  // button auto focus\n  useEffect(() => {\n    const buttonEl = buttonRef.current!;\n\n    if (state.status === Status.finished) buttonEl.focus();\n  }, [state.status]);\n\n  // updating is typing state\n  useEffect(() => {\n    if (state.typed !== null) {\n      setIsTyping(true);\n\n      const timeout = setTimeout(() => setIsTyping(false), 500);\n\n      return () => clearTimeout(timeout);\n    }\n  }, [state.typed]);\n\n  return (\n    <div className=\"w-full max-w-screen-sm space-y-4 p-4 mx-auto mt-6\">\n      <main className=\"w-full rounded-md rounded-b-none border-b border-blue-500 bg-blue-50\">\n        {(state.status === Status.ready ||\n          state.status === Status.finished) && (\n          <QuoteContainer\n            quote={state.quote}\n            typed={state.typed}\n            isTyping={isTyping}\n          />\n        )}\n        {state.status === Status.loading && <LoadingCard />}\n        {state.status === Status.error && <ErrorCard />}\n      </main>\n\n      {(state.status === Status.ready || state.status === Status.finished) && (\n        <div className=\"flex space-x-4 w-max mx-auto\">\n          {stats!.map(({ icon: Icon, value, mark }, index) => (\n            <div\n              key={index}\n              className=\"flex space-x-1 items-center text-gray-700\"\n            >\n              <Icon size={30} />\n              <span className=\"text-md font-semibold\">\n                {value} {mark}\n              </span>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <button\n        className=\"btn w-max mx-auto\"\n        disabled={\n          state.status === Status.loading ||\n          Boolean(state.status === Status.ready && state.typed)\n        }\n        onClick={() => {\n          refresh(dispatch);\n        }}\n        ref={buttonRef}\n      >\n        <RefreshIcon size={24} />\n        <span>Refresh</span>\n      </button>\n\n      <textarea\n        id=\"input\"\n        className=\"w-full rounded-md rounded-t-none border-t border-gray-400 bg-blue-50 resize-none h-40 text-gray-700 p-2 focus:outline-none\n      hover:border-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:border-gray-500 disabled:cursor-not-allowed\"\n        disabled={state.status !== Status.ready}\n        value={state.status === Status.ready ? state.typed : ''}\n        onChange={e => {\n          if (state.status === Status.ready) {\n            const value = e.target.value;\n\n            if (\n              value.length > state.typed.length &&\n              value[value.length - 1] !== state.quote[value.length - 1]\n            ) {\n              dispatch({ type: Actions.commit });\n            }\n\n            dispatch({\n              type: Actions.type,\n              payload: value,\n            });\n\n            if (value.length === state.quote.length)\n              dispatch({ type: Actions.finish });\n          }\n        }}\n        ref={textareaRef}\n      ></textarea>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}